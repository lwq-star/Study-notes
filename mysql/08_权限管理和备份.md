## 权限管理和备份

### 用户管理

![image-20210507205202555](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507205203223-520731295.png) 

![image-20210507205318946](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507205319284-1962088542.png) 

> SQL命令操作

用户表：mysql.user 表

![image-20210507205523230](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507205523523-792064084.png) 

里面的字段就是上面的权限

所以创建用户实际上就是在用户表中添加数据



### MySQL 备份

> 备份的用处

- **数据转移**
- **备份保证重要的数据不丢失**

> MySQL数据库备份的方式

- 直接拷贝物理文件

- 在Sqlyog这种可视化工具中手动导出

    - 在想要导出的表或数据库中右键导出

    ![image-20210507211305841](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507211306212-392890466.png) 

    - 选择备份表作为SQL转储

    ![image-20210507212509900](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507212510232-2006824389.png) 

    - 选择转储方式和导出位置

    ![image-20210507212623616](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507212624024-581510914.png) 

    - 导出的其实就是一个sql文件，包含了表的创建和数据的插入，导入时只需要运行这个sql 文件即可

    ![image-20210507212822323](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507212822654-132204948.png) 

    - 还可以选择导出数据表作为其他格式，如：csv, json, html, excel 等

- 使用命令行到处：**mysqldump**  命令行使用

    - 格式：**mysqldump -h<主机> -u<用户名> -p<密码> <库> <表> ><导出路径>** 

    ```bash
    mysqldump -hlocalhost -uroot -p school student >D:/temp.sql
    # 如果上述没有直接输入密码，后面会如登录时一样输入密码
    ```

    - 导入的文件

    ![image-20210507214941066](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507214941413-1089674876.png) 

    - 导出为csv等格式

    ```sql
    select * from student into outfile 'E:/temp.csv';
    -- 将select查询出来的数据导出到csv文件
    ```

    ![image-20210507221245867](https://img2020.cnblogs.com/blog/2213660/202105/2213660-20210507221246251-1795367894.png) 

- 导入:在命令行实行sql脚本

    ```sql
    source D:/temp.sql
    # 或者
    \. D:temp.sql
    ```

    

