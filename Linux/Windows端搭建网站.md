## Windows端搭建网站

- 配置静态ip
- 安装配置Apache
- 内网穿透



### 配置静态ip

右击任务栏网络图标-->打开网络和Internet设置

![image-20210601133232656](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133234081-627482171.png) 

点击网络和共享中心

![image-20210601133348323](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133349243-226115540.png) 

点击你使用的网络，我这里时 **以太网** 

![image-20210601133439810](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133440321-124452037.png) 

点击详细信息，查看ipv4地址、子网掩码和默认网关服务

![image-20210601133557027](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133557568-1569584834.png) ![image-20210601133716030](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133716544-1664188703.png)

点击属性

![image-20210601133502711](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133503239-353728168.png) 

勾选并点击下图所示

![image-20210601133830190](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601133830738-1721431698.png) 

设置如图所示，子网掩码和默认网关上述详细信息查看的一致，ip地址前三位与网关一致，最后一位自定义，DNS服务如下：

![image-20210601184530612](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601184532122-1464880167.png) 



### 安装Apache

点击下载： https://www.apachehaus.com/cgi-bin/download.plx 

![image-20210601220250009](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601220251321-1825202185.png) 

![image-20210601220259653](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601220300945-1717626531.png) 

将上述压缩包解压，记住解压位置

![image-20210601220400367](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601220401663-1282284507.png) 

打开该文件夹

![image-20210601220542185](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601220544045-1689359008.png) 

我们先打开conf配置文件夹，编辑httpd.conf文件

![image-20210601220640886](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601220642148-682493478.png) 

查找关键词 **Define SRVROOT** ，将下述路径换为自己的Apache24路径

![image-20210601220913304](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601220914541-444135944.png) 

然后以管理员模式打开cmd，并切换到Apache24\bin目录，输入下述指令安装服务

```bash
# 安装服务
httpd -k install
# 卸载服务
# httpd -k uninstall
```

![image-20210601221708224](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601221710097-1137969434.png) 

输入下述指令开启服务

```bash
net start Apache2.4
# 停止服务
# net stop Apache2.4
```

![image-20210601221849528](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601221850794-167309360.png) 

这时，在浏览器中输入上述设置的ip，出现以下页面，表示网站搭建成功

![image-20210601222118041](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601222119411-459636682.png) 

我们打开Apache24\htdocs目录，发现只有一个index.html文件

![image-20210601222238317](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601222239619-391317888.png) 

点击打开文件

![image-20210601222258027](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601222259420-104586729.png) 

这个文件就是网站的主页面文件，所以网站根目录为htdocs，主页面文件名必须为index.html



### 内网穿透

所需软件 **花生壳** 

先去官网：https://www.oray.com/ 注册一下账号

注册成功后会得到一个 **壳域名** 

然后转到 下载页面：https://hsk.oray.com/download 下载内网穿透的软件

选择 **花生壳5 稳定版** 下载

![image-20210601222540939](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601222542397-160513004.png) 

![image-20210601222611942](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601222613191-1196283053.png) 

无脑安装

然后打开，点击账号登录

![image-20210601222719236](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601222721277-472135152.png) 

输入刚刚注册的账号登录

点击免费开通

![image-20210601102156947](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601102157360-1436723801.png) 

会获得一条映射服务

![image-20210601102232314](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601102232728-650423094.png) 

点击加号

![image-20210601223007963](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601223009344-361311374.png) 

![image-20210601223019533](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601223020840-506639256.png) 

点击HTTP，会跳出HTTP映射认证

![image-20210601223319867](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601223321123-1492605706.png) 

http认证是买一年送98年，也就是说可以用99年(某种意义上的永久)

![image-20210601103428175](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601103428586-818086182.png) 

点击下单，然后立即购买

购买完后回到添加映射，按如下设置，点击保存

![image-20210601223547676](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601223548999-1648977952.png) 

点击访问地址，这个地址就是我们的网站名

![image-20210601223646795](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601223648093-1226482386.png) 

![image-20210601223712529](https://img2020.cnblogs.com/blog/2213660/202106/2213660-20210601223713893-776981635.png) 

内网穿透成功



