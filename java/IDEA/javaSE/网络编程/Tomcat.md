## Tomcat

能提供一个较为完善的服务器接口

服务端

- 自定义 S
- Tomcat服务器  S

客户端

- 自定义 C
- 浏览器  B

### 下载

Tomcat的官方下载地址：[http://tomcat.apache.org/](https://link.zhihu.com/?target=http%3A//tomcat.apache.org/) 

选择下载版本

![preview](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211215126474-1190464981.jpg)

![preview](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211215144602-1872415968.jpg)



### 安装与配置

在安装 **Tomcat** 之前必须先安装 **JDK** ，否则 **Tomcat** 无法正确的安装或使用

#### 这里我下载的是解压版的 Tomcat 

1. 直接解压安装包到想要的路径

2. 配置Tomcat环境变量

    - 鼠标右键点击【这台电脑】-->选择【属性】->【高级系统设置】-->【系统变量】

    - 在 PATH 中添加解压文件中的 **bin** 文件路径

        ![image-20201211220015617](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211220016462-675839434.png)



### 简单使用

- 打开 **bin** 文件夹，目录下的 **startup.bat** 为开启 **Tomcat** 服务， **shutdown.bat** 为关闭 **Tomcat** 服务

    ![image-20201211220426453](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211220431156-438394086.png)

    **上述两个bat文件是在Windows系统下的执行文件，Linux系统下用对应的 sh文件** 

- 双击打开 **startup.bat** ，如何保持该窗口不要关闭，打开浏览器输入 `localhost:8080` ，即可进入 **Tomcat** 服务器界面

    ![image-20201211220812897](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211220813885-688975935.png)

- 在解压文件夹下有一个 **webapps** 文件夹

    ![image-20201211220938163](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211220939083-123782850.png)

    里面是服务端的一些内容

    ![image-20201211221143490](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211221159479-1118877687.png)

    如 **ROOT**  下的 **index.jsp** 文件就是 **Tomcat** 服务器界面的设计界面

    在浏览器中使用 `http://localhost:8080/docs` 即可访问 **docs** 文件夹下的信息

    现在我们在 **webapps** 文件夹下新建一个 **test** 文件夹，在 **test** 文件夹下新建一个 **hello.txt** 文件，文件内输入 **hello** ，保存文件

    ![image-20201211222347773](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211222349697-1735234291.png)

    现在在浏览器中输入  `http://localhost:8080/test/hello.txt` 访问文件

    ![image-20201211222823681](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211222824611-1223654824.png)

    现在我们再修改文件.

    ![image-20201211222911761](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211222912638-540318223.png)

    到浏览器中刷新界面

    ![image-20201211223540751](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211223541643-1134903965.png)



### 可能遇到的问题

- **Tomcat** 启动时乱码

    ![image-20201211223730774](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211223731751-249738979.png)

    这其实是输出的日志，导致乱码的原因是 **Windows** 默认编码为 **GBK** 而日志输出编码为 **UTF-8** ，所以我们打开 **conf** 文件夹下的 **logging.properties** 文件

    ![image-20201211224033624](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211224034554-1050753746.png)

    ![image-20201211224039444](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211224040545-1585725621.png)

    ![image-20201211224151202](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211224152100-1675039942.png)

    将最后一个 **UTF-8** 改为 **GBK** 

    ![image-20201211224209151](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211224210077-1786515429.png)

    乱码问题解决

    ![image-20201211224239595](https://img2020.cnblogs.com/blog/2213660/202012/2213660-20201211224240530-957648886.png)

